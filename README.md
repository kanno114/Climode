# Climode

https://climode.app

---

## ■ サービス概要

**Climode** は、
睡眠・気分・疲労感などの身体データと、気圧・気温・湿度などの環境データを統合して、
体調のゆらぎに合わせた"提案"を届ける健康管理アプリです。

朝に体調を入力して「今日の提案」を受け取り、夜にその日を振り返る。
この 1 日 2 回の軽いリズムを通じて、
「頑張る」ではなく「整える」ための習慣をつくります。

---

## ■ このサービスを作ろうと思った理由

季節の変わり目や気圧の変化で体調を崩しやすく、  
「今日は頑張れる日か、無理を控える日か」がわかれば  
もっと自分のペースで過ごせると感じたことがきっかけです。

既存のアプリは、睡眠・気圧・気分などがバラバラに記録されており、  
自分の体調を全体で把握しにくい課題がありました。

Climode では、「自分が気にしている要素」を中心に記録・通知・提案を行い、  
**自分の体調を理解できた感覚**を得られる体験を目指します。

---

## ■ ユーザー層について

- **気象や季節で体調を崩しやすい人**  
  　頭痛や倦怠感など「気象病」に悩む人。

- **メンタルと身体の両方を見たい人**  
  　気分やストレスと体調の関係を把握したい人。

- **自己管理に意欲のある 20〜40 代**  
  　日常的にライフログをつけており、健康意識が高い層。

---

## ■ サービスの利用イメージ

### 朝（自己申告）

- プッシュ通知で朝のリマインドを受信（8:00 AM）
- ダッシュボードで「睡眠時間・気分・疲労感」を簡単入力
  　（スライダーと 5 段階評価で数秒完了）
- 入力後、環境データ（気圧・気温・湿度）と組み合わせて
  　**今日の提案**が自動生成・表示
  └ 例：「気圧が急降下中。午後は無理せずペースを落として。」
- 提案はユーザーが登録した**関心トピック**に応じてフィルタリングされ、
  　自分に関係のある情報だけが届きます
- 24 時間天気予報テーブルで気圧・湿度の変化を事前に確認可能

### 夜（振り返り）

- プッシュ通知で振り返りリマインドを受信（8:00 PM）
- 振り返り画面で以下を記録:
  - 今日の提案に対するフィードバック（👍 役立った / 👎 役立たなかった）
  - セルフスコア（良い / 普通 / 悪い の 3 段階）
  - 出来事メモ（自由記述・任意）
- フィードバックは週次レポートに反映されます

### 週次レポート（気づき）

- 1 週間の体調データをグラフで可視化（睡眠・気分・疲労の推移）
- 体調同士の相関分析（例：気分と疲労の相関）
- セルフスコアの分布と提案の役立ち度を振り返り
- 曜日ごとの傾向パターンを把握

---

## ■ 続けやすい仕組み

1. **通知でリマインド**
   　朝は「体調入力＋提案を確認」、夜は「1 分だけの振り返り」。
   　プッシュ通知で無理なく習慣化。

2. **UI の簡略化**  
   　スライダー・ボタン・アイコン入力など、数秒で完了。  
   　不調な日でも負担にならない操作性。

3. **自然な継続**  
   　“データを残す”ではなく、“自分を整える時間”として続けられる UX。

---

## ■ サービスの差別化ポイント・推しポイント

- **日本語対応 × 穏やかな UX 設計**  
  　日本語で自然に伝わる言葉とトーンで構成し、日本人の生活リズムに寄り添う体験を提供します。

- **朝と夜の"呼吸するリズム"**
  　朝は「体調入力＋提案を確認」、夜は「振り返りとフィードバック」。
  　無理なく続けられる自然な 1 日のサイクルを設計。

- **スコアではなく“気づき”を届ける**  
  　数値評価よりも、「自分の体調を理解できた」という納得感と気づきを重視。

- **不調時にも開けるデザイン**  
  　やさしい配色と穏やかな言葉づかいで、不調な日でも安心して使える UI を目指します。

- **続けようとしなくても続いていく**  
  　「頑張らなくても整う」体験を、朝と夜の小さなリズムで支えます。

> **Climode は、“データで管理するアプリ”ではなく、“自分を整える習慣”を届けるアプリ。**  
> 朝と夜の小さな気づきを積み重ねることで、「頑張らなくても整う」体験を実現します。

---

## ■ 機能一覧

- アカウント作成・ログイン（Google OAuth + メール認証）
- 朝の自己申告フォーム（睡眠時間・気分・疲労感）
- 夜の振り返りフォーム（セルフスコア・提案フィードバック・出来事メモ）
- 天気・気圧の自動取得（都道府県ベース）
- ルールエンジン + 事前計算スナップショットによる提案生成
- シグナル表示・提案画面
- 24 時間天気予報（Open-Meteo 時系列）
- プッシュ通知（朝・夜の定期リマインダー配信）
- 週次レポート（グラフ・相関分析・インフォグラフィック）
- ユーザー関心トピック（ConcernTopic）登録機能
- カレンダー表示（FullCalendar）
- 日次ログ詳細表示
- オンボーディングフロー
- 設定ページ（プロフィール編集）
- Google Analytics 4 によるアクセス解析
- 利用規約ページ
- プライバシーポリシーページ
- パスワードリセット機能（メール送信によるリセットフロー）
- メールアドレス確認機能（メール認証フロー）
- ダークモード対応（テーマ切り替え）
- Cookie 同意バナー
- サービス紹介ページ

## ■ 実装予定の機能

- AI によるサジェスト（蓄積データをもとに AI が体調に合わせた提案を自動生成）
- 体調予測機能（過去の同条件データから翌日の体調を予測）
- 分析機能の強化（身体データと環境データの相関をより深く可視化）
- SNS 共有機能（気づきを家族とシェア）
- カスタムトリガー設定（自分に合った体調のトリガーを登録）

---

## ■ 技術スタック

### 開発環境

- Docker / Docker Compose
- コンテナ構成:
  - `front`: Next.js（port 3000:3000）
  - `back`: Rails API（port 3001:3000）
  - `db`: PostgreSQL（port 5432:5432）

### バックエンド

- Ruby 3.3.6 / Rails 7.2.2.2（API モード）
- PostgreSQL
- Gem: bcrypt, rack-cors, rack-attack, dentaku, jwt, httparty, kaminari, web-push, whenever, sentry-ruby, sentry-rails, resend
- テスト: rspec-rails, factory_bot_rails, faker, shoulda-matchers, database_cleaner, json_spec
- デプロイ: Render

### フロントエンド

- Node.js 23 / React 19.1.2 / Next.js 15.5.12（App Router + Turbopack）
- 認証: next-auth 5.0.0-beta.29
- UI: shadcn/ui（Radix UI + Tailwind CSS 4）
- フォーム: @conform-to/react, @conform-to/zod
- カレンダー: @fullcalendar/react 6.1.19
- グラフ: chart.js 4.5.0 + react-chartjs-2 5.3.0
- アナリティクス: @next/third-parties（Google Analytics 4）
- OGP: @vercel/og
- エラーモニタリング: @sentry/nextjs
- テーマ: next-themes（ダークモード対応）
- その他: zod, date-fns, lucide-react, sonner
- テスト: jest, @testing-library/react, @testing-library/jest-dom
- デプロイ: Vercel

---

## ■ ミッション

> **“無理をしない日を、前もって選べるように。”**  
> Climode は、気候や体調に振り回されるのではなく、  
> 自分のリズムを理解し、整えていくための気づきを届けます。

---
