# Climode（仮）

---

## ■ サービス概要

**Climode** は、  
睡眠・気分・症状などの身体データと、天気・気圧・湿度などの環境データを統合して、  
体調のゆらぎを“シグナル”として見える化する健康管理アプリです。

朝に「今日のシグナル」を確認し、夜にその日の体調を振り返る。  
この1日2回の軽いリズムを通じて、  
「頑張る」ではなく「整える」ための習慣をつくります。

---

## ■ このサービスを作ろうと思った理由

季節の変わり目や気圧の変化で体調を崩しやすく、  
「今日は頑張れる日か、無理を控える日か」がわかれば  
もっと自分のペースで過ごせると感じたことがきっかけです。

既存のアプリは、睡眠・気圧・気分などがバラバラに記録されており、  
自分の体調を全体で把握しにくい課題がありました。

Climodeでは、「自分が気にしている要素」を中心に記録・通知・提案を行い、  
**自分の体調を理解できた感覚**を得られる体験を目指します。

---

## ■ ユーザー層について

* **気象や季節で体調を崩しやすい人**  
　頭痛や倦怠感など「気象病」に悩む人。

* **メンタルと身体の両方を見たい人**  
　気分やストレスと体調の関係を把握したい人。

* **自己管理に意欲のある20〜40代**  
　日常的にライフログをつけており、健康意識が高い層。

---

## ■ サービスの利用イメージ

### 朝

* 通知で「今日のシグナル」を確認  
  └ 例：「今日は気圧が下がり気味。予定をゆるめにして。」  

* シグナルは、気圧・湿度・気温などの環境変化と  
　ユーザーが登録した**トリガー**をもとに自動判定。

* 入力は任意。  
　「寝不足」「疲労感」などの**身体トリガー（body系）**を  
　自己申告した場合は、その日のシグナル判定に反映され、  
　通知内容がより自分に合ったものになります。  
　（例：「寝不足＋気圧低下 → 無理せず午後に休息を」）

### 夜

* 通知から振り返り画面へ遷移  
* その日の「気分・症状・睡眠」などを数秒で入力  
* 当日の環境データやシグナルと照合し、  
　翌週の傾向レポートや行動提案に反映されます。

### 週末（気づき）

* 週単位で体調と環境の関係を振り返り、  
  「どんな気候のときに不調を感じやすいか」を把握。  
* 新しいトリガー（例：寒暖差・湿度上昇）を自動提案し、  
　“自分に合った気づき体験”をアップデート。

---

## ■ 続けやすい仕組み

1. **通知でリマインド**  
　朝は「見るだけ＋必要なら入力」、夜は「1分だけの振り返り」。  
　やさしい通知設計で無理なく習慣化。

2. **UIの簡略化**  
　スライダー・ボタン・アイコン入力など、数秒で完了。  
　不調な日でも負担にならない操作性。

3. **自然な継続**  
　“データを残す”ではなく、“自分を整える時間”として続けられるUX。

---

## ■ サービスの差別化ポイント・推しポイント

* **日本語対応 × 穏やかなUX設計**  
　日本語で自然に伝わる言葉とトーンで構成し、日本人の生活リズムに寄り添う体験を提供します。

* **朝と夜の“呼吸するリズム”**  
　朝は「見る＋必要なら自己申告」、夜は「振り返る」。  
　無理なく続けられる自然な1日のサイクルを設計。

* **スコアではなく“気づき”を届ける**  
　数値評価よりも、「自分の体調を理解できた」という納得感と気づきを重視。

* **不調時にも開けるデザイン**  
　やさしい配色と穏やかな言葉づかいで、不調な日でも安心して使えるUIを目指します。

* **続けようとしなくても続いていく**  
　「頑張らなくても整う」体験を、朝と夜の小さなリズムで支えます。

> **Climodeは、“データで管理するアプリ”ではなく、“自分を整える習慣”を届けるアプリ。**  
> 朝と夜の小さな気づきを積み重ねることで、「頑張らなくても整う」体験を実現します。

---

## ■ 機能候補

### MVP（完了）

* アカウント作成・ログイン（Google認証対応）  
* 日次記録フォーム（睡眠・気分・症状）  
* 天気・気圧の自動取得（位置情報ベース／現在値のみ）  
* 固定重みスコア算出  
* 固定ロジックによる行動提案  
* カレンダー表示  
* 振り返り機能  

---

### 本リリース（現在フェーズ）

#### 実装済み

* プッシュ通知（朝・夜の定期リマインダー配信）  
* 週次レポート（グラフ・インフォグラフィック）  
* SNS共有機能  

#### 未実装

* **feat: ユーザーカスタムトリガー登録機能（#47）**  
　ユーザーが「気圧低下」「高湿度」「寒暖差」「寝不足」などのトリガーを  
　プリセットから選択して登録・削除できるようにします。  
　定義はYAMLで管理され、各トリガーは「注意」「警戒」などの複数レベルを持ちます。  

* **feat: シグナル判定ロジック（#48）**  
　登録されたトリガーと当日の気象条件・自己申告データをもとに、  
　「注意」「警戒」などのシグナルレベルを自動判定します。  
　環境系（env）は都道府県単位の気象データを、  
　身体系（body）はユーザーの入力データを用いて判定します。

* **feat: 症状×気候条件に応じた行動提案プレイブック機能（#49）**  
　判定されたシグナルと登録トリガーをもとに、  
　「今日は気圧と寝不足のW注意日」「無理せず午後に休息を」など、  
　条件別の提案をYAMLで管理して自動生成します。  
　朝の画面で「今日の提案カード」として表示されます。

---

#### 表示・通知機能

* **feat: シグナル通知機能（#50）**  
　朝に判定されたシグナルをプッシュ通知し、  
　タップで詳細画面に遷移できるようにします。

* **feat: シグナル表示・提案画面（#51）**  
　当日のシグナルと行動提案をまとめて表示。  
　ユーザーがその日のリズムを整えやすくなるよう設計します。

---

#### 入力・分析機能

* **feat: 朝の自己申告UI（#52）**  
　睡眠・気分・疲労などをワンタップで入力。  
　入力データはシグナル判定（body系）に反映されます。

* **feat: 夜の振り返りUI拡張（#53）**  
　シグナルの「的中度」や「体調との一致度」を簡単にフィードバックできます。

* **feat: 週次レポート機能（#54）**  
　1週間分のシグナルと体調データを自動集計し、  
　傾向・提案履歴をグラフ化して表示します。

---

## ■ 技術スタック

### バックエンド

- Ruby 3.3.6 / Rails 7.2.0（API モード）  
- PostgreSQL  
- Gem: bcrypt, rack-cors, dentaku, jwt, httparty, kaminari, web-push, whenever  
- テスト: rspec-rails, factory_bot_rails, faker, shoulda-matchers, database_cleaner, json_spec  
- デプロイ: Render  

### フロントエンド

- Node.js / React 19.1.0 / Next.js 15.5.2（App Router）  
- 認証: next-auth 5.0.0-beta.29  
- UI: shadcn/ui（Radix UI + Tailwind CSS 4）  
- フォーム: @conform-to/react, @conform-to/zod, @hookform/resolvers  
- カレンダー: @fullcalendar/react 6.1.19  
- グラフ: chart.js 4.5.0 + react-chartjs-2  
- その他: zod, date-fns, lucide-react, sonner  
- テスト: jest, @testing-library/react, @testing-library/jest-dom  
- デプロイ: Vercel  

---

## ■ ミッション

> **“無理をしない日を、前もって選べるように。”**  
> Climodeは、気候や体調に振り回されるのではなく、  
> 自分のリズムを理解し、整えていくための気づきを届けます。

---